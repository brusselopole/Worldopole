<VirtualHost *:80>
  ServerAdmin webmaster@localhost
  DocumentRoot /var/www/html

  <Directory /var/www/html>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    Order allow,deny
    allow from all
  </Directory>

  ProxyPreserveHost On
  ProxyPass /go/ http://127.0.0.1:5000/ retry=0 timeout=5
  ProxyPassReverse /go/ http://127.0.0.1:5000/

  RewriteCond %{HTTP_HOST} !^MYSITE\.XYZ/go/$ [NC]
  RewriteRule ^/go/$ http://%{HTTP_HOST}/go/ [L,R=301]

  LogLevel warn
  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined

  RewriteEngine On
  RewriteCond %{SERVER_NAME} =yoursite.xyz
  RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,QSA,R=permanent]
</VirtualHost>
<VirtualHost *:443>
# Admin email, Server Name (domain name), and any aliases
  ServerAdmin webmaster@yoursite.xyz
  ServerName yoursite.xyz:443
  ServerAlias www.yoursite.xyz

  #DashSettings
  <Directory /var/www/html>
    Options Indexes FollowSymLinks MultiViews
    AllowOverride All
    Order allow,deny
    allow from all
  </Directory>

  DirectoryIndex index.html index.php
  DocumentRoot /var/www/html

  LogLevel warn
  ErrorLog ${APACHE_LOG_DIR}/error.log
  CustomLog ${APACHE_LOG_DIR}/access.log combined

  SSLCertificateFile /etc/letsencrypt/live/yoursite.xyz/cert.pem
  SSLCertificateKeyFile /etc/letsencrypt/live/yoursite.xyz/privkey.pem
  SSLCertificateChainFile /etc/letsencrypt/live/yoursite.xyz/chain.pem
</VirtualHost>